<template>
  <div>
    <div>
      <navbar-component />
      <section class="main-section">
        <div class="inner-section">
          <LeftSidebarComponent />
          <main class="right-area">
            <div class="right-area-inner p-relative rightInnerDarkbg">
              <div class="right-area-wrapper pt-0 pb-3">
                <section class="strategy-calc-main-section mt-3 pt-4">
                  <div class="strategy-calc-main-div">
                    <div class="index-strategy-head-div">
                      <h1>Index Strategy Calculator</h1>
                      <router-link to="/index-strategy-calculator" class="back"
                        ><img
                          src="@/assets/images/icons/back-small.svg"
                          alt="Back"
                        />
                        Back to Parameters Screen</router-link
                      >
                    </div>
                    <div class="index-strategy-table-content-div more-padding">
                      <div
                        class="index-strategy-content-inner-div shadow-none"
                        id="iscContentDiv"
                      >
                        <div class="d-flex justify-content-center">
                          <div
                            class="nav calc-tab-graph-tab nav-pills"
                            role="tablist"
                            aria-orientation="vertical"
                          >
                            <div
                              class="active"
                              id="iscTab1"
                              data-bs-toggle="pill"
                              data-bs-target="#v-pills-distribution"
                              type="button"
                              role="tab"
                              aria-controls="v-pills-distribution"
                              aria-selected="true"
                            >
                              Table
                            </div>
                            <div
                              id="iscTab2"
                              data-bs-toggle="pill"
                              data-bs-target="#v-pills-rate-of-return"
                              type="button"
                              role="tab"
                              aria-controls="v-pills-rate-of-return"
                              aria-selected="false"
                            >
                              Graph
                            </div>
                          </div>
                        </div>

                        <div class="tab-content">
                          <div
                            class="tab-pane fade show active"
                            id="v-pills-distribution"
                            role="tabpanel"
                            aria-labelledby="pills-home-tab"
                          >
                            <div class="container">
                              <div class="row">
                                <div class="col-12 setting-icon-div">
                                  <span
                                    class="setting-icon-div-span"
                                    data-bs-toggle="modal"
                                    data-bs-target="#saveRunModal"
                                  >
                                    <svg
                                      width="24"
                                      height="27"
                                      viewBox="0 0 24 27"
                                      fill="none"
                                      xmlns="http://www.w3.org/2000/svg"
                                    >
                                      <g id="Clip path group">
                                        <mask
                                          id="mask0_135_5443"
                                          style="mask-type: luminance"
                                          maskUnits="userSpaceOnUse"
                                          x="0"
                                          y="0"
                                          width="24"
                                          height="27"
                                        >
                                          <g id="461b897740">
                                            <path
                                              id="Vector"
                                              d="M0 0.790039H24V26.3311H0V0.790039Z"
                                              fill="white"
                                            />
                                          </g>
                                        </mask>
                                        <g mask="url(#mask0_135_5443)">
                                          <g id="Group">
                                            <path
                                              id="Vector_2"
                                              class="setting-icon-all"
                                              d="M6.60244 13.668C5.65457 13.668 4.88658 12.8218 4.88658 11.7781C4.88658 10.7344 5.65457 9.88855 6.60244 9.88855C7.55 9.88855 8.31829 10.7344 8.31829 11.7781C8.31829 12.8218 7.55 13.668 6.60244 13.668ZM12.9677 10.8033L12.6235 10.7472C12.1338 10.6669 11.7232 10.2987 11.5534 9.78677C11.5024 9.63325 11.446 9.48309 11.3838 9.33562C11.1747 8.8398 11.2262 8.25797 11.522 7.81825L11.7293 7.51021C11.8113 7.3886 11.8 7.21896 11.7024 7.1118L10.8393 6.16113C10.7418 6.05397 10.5881 6.04121 10.4774 6.13157L10.1979 6.36C9.79878 6.68551 9.27043 6.74228 8.81982 6.51184C8.68658 6.44331 8.55 6.38116 8.41067 6.32506C7.94604 6.13829 7.61128 5.6858 7.53872 5.14664L7.4875 4.76738C7.46738 4.61756 7.3503 4.50637 7.2128 4.50637H5.99177C5.85427 4.50637 5.7375 4.61756 5.71707 4.76738L5.66585 5.14664C5.59329 5.6858 5.25884 6.13829 4.7939 6.32506C4.65457 6.38116 4.51829 6.44331 4.38476 6.51184C3.93445 6.74228 3.4061 6.68551 3.00701 6.36L2.72713 6.13157C2.61677 6.04121 2.4628 6.05397 2.36555 6.16113L1.50213 7.1118C1.40488 7.21896 1.39329 7.3886 1.4753 7.51021L1.68262 7.81825C1.97835 8.25797 2.02988 8.8398 1.82073 9.33562C1.75884 9.48309 1.70213 9.63325 1.65122 9.78677C1.4814 10.2987 1.07073 10.6669 0.581098 10.7472L0.23689 10.8033C0.100915 10.8258 0 10.9541 0 11.1059V12.4507C0 12.6022 0.100915 12.7311 0.23689 12.7533L0.581098 12.8098C1.07073 12.8897 1.4814 13.2579 1.65122 13.7698C1.70213 13.9233 1.75884 14.0738 1.82073 14.2206C2.02988 14.7168 1.97835 15.299 1.68262 15.7383L1.4753 16.0461C1.39329 16.168 1.40488 16.3376 1.50213 16.4448L2.36555 17.3958C2.4628 17.5026 2.61677 17.5154 2.72713 17.4254L3.00701 17.1966C3.4061 16.8711 3.93445 16.8143 4.38476 17.0448C4.51829 17.1129 4.65457 17.1751 4.7939 17.2312C5.25884 17.4183 5.59329 17.8708 5.66585 18.41L5.71707 18.7892C5.7375 18.939 5.85427 19.0502 5.99177 19.0502H7.2128C7.3503 19.0502 7.46738 18.939 7.4875 18.7892L7.53872 18.41C7.61128 17.8708 7.94604 17.4183 8.41067 17.2312C8.55 17.1751 8.68658 17.1129 8.81982 17.0448C9.27043 16.8143 9.79878 16.8711 10.1979 17.1966L10.4774 17.4254C10.5881 17.5154 10.7418 17.5026 10.8393 17.3958L11.7024 16.4448C11.8 16.3376 11.8113 16.168 11.7293 16.0461L11.522 15.7383C11.2262 15.299 11.1747 14.7168 11.3838 14.2206C11.446 14.0738 11.5024 13.9233 11.5534 13.7698C11.7232 13.2579 12.1338 12.8897 12.6235 12.8098L12.9677 12.7533C13.1037 12.7311 13.2046 12.6022 13.2046 12.4507V11.1059C13.2046 10.9541 13.1037 10.8258 12.9677 10.8033ZM17.3979 20.9398C16.4503 20.9398 15.682 20.0939 15.682 19.0502C15.682 18.0065 16.4503 17.1603 17.3979 17.1603C18.3454 17.1603 19.1137 18.0065 19.1137 19.0502C19.1137 20.0939 18.3454 20.9398 17.3979 20.9398ZM23.7634 18.075L23.4192 18.0186C22.9296 17.9387 22.5189 17.5705 22.3488 17.0585C22.2982 16.905 22.2415 16.7545 22.1793 16.6077C21.9701 16.1116 22.0219 15.5294 22.3177 15.0903L22.5247 14.782C22.6067 14.6604 22.5954 14.4907 22.4982 14.3836L21.6348 13.4326C21.5375 13.3254 21.3835 13.313 21.2729 13.403L20.9933 13.6314C20.5942 13.9573 20.0659 14.0144 19.6155 13.7836C19.482 13.7154 19.3454 13.6533 19.2064 13.5972C18.7415 13.4101 18.407 12.9576 18.3341 12.4184L18.2832 12.0391C18.2631 11.8893 18.146 11.7781 18.0082 11.7781H16.7875C16.6497 11.7781 16.5329 11.8893 16.5128 12.0391L16.4616 12.4184C16.3887 12.9576 16.0543 13.4101 15.5896 13.5972C15.4503 13.6533 15.3137 13.7154 15.1802 13.7836C14.7299 14.0144 14.2015 13.9573 13.8027 13.6314L13.5229 13.403C13.4122 13.313 13.2582 13.3254 13.161 13.4326L12.2979 14.3836C12.2003 14.4907 12.189 14.6604 12.271 14.782L12.4784 15.0903C12.7738 15.5294 12.8253 16.1116 12.6162 16.6077C12.5543 16.7545 12.4976 16.905 12.4466 17.0585C12.2771 17.5705 11.8662 17.9387 11.3768 18.0186L11.0323 18.075C10.8963 18.0972 10.7957 18.2262 10.7957 18.3777V19.7224C10.7957 19.8739 10.8963 20.0029 11.0323 20.0251L11.3768 20.0812C11.8662 20.1615 12.2771 20.5296 12.4466 21.0416C12.4976 21.1951 12.5543 21.3456 12.6162 21.4924C12.8253 21.9886 12.7738 22.5704 12.4784 23.0098L12.271 23.3182C12.189 23.4398 12.2003 23.6094 12.2979 23.7166L13.161 24.6676C13.2582 24.7744 13.4122 24.7871 13.5229 24.6968L13.8027 24.4684C14.2015 24.1425 14.7299 24.0861 15.1802 24.3165C15.3137 24.3847 15.4503 24.4472 15.5896 24.5033C16.0546 24.6901 16.3887 25.1426 16.4616 25.6817L16.5128 26.061C16.5329 26.2108 16.6497 26.322 16.7875 26.322H18.0082C18.146 26.322 18.2631 26.2108 18.2832 26.061L18.3341 25.6817C18.407 25.1426 18.7415 24.6901 19.2064 24.5033C19.3454 24.4472 19.482 24.3847 19.6155 24.3165C20.0659 24.0861 20.5942 24.1425 20.9933 24.4684L21.2729 24.6968C21.3835 24.7871 21.5375 24.7744 21.6348 24.6676L22.4982 23.7166C22.5954 23.6094 22.6067 23.4398 22.5247 23.3182L22.3177 23.0098C22.0219 22.5704 21.9701 21.9886 22.1793 21.4924C22.2415 21.3456 22.2982 21.1951 22.3488 21.0416C22.5189 20.5296 22.9296 20.1615 23.4192 20.0812L23.7634 20.0251C23.8994 20.0029 24.0003 19.8739 24.0003 19.7224V18.3777C24.0003 18.2262 23.8994 18.0972 23.7634 18.075ZM16.436 7.48098C15.721 7.48098 15.1415 6.84239 15.1415 6.05532C15.1415 5.26791 15.721 4.62965 16.436 4.62965C17.1509 4.62965 17.7302 5.26791 17.7302 6.05532C17.7302 6.84239 17.1509 7.48098 16.436 7.48098ZM21.0357 5.35088L20.7869 5.3099C20.4332 5.25212 20.1363 4.98607 20.0134 4.61621C19.9768 4.50536 19.936 4.39652 19.8909 4.29037C19.7399 3.93194 19.7771 3.51136 19.9909 3.19391L20.1405 2.97119C20.1997 2.88351 20.1915 2.76057 20.1213 2.6833L19.4976 1.99634C19.4271 1.91874 19.3159 1.90967 19.236 1.97517L19.0338 2.13978C18.7454 2.37526 18.3637 2.41658 18.0384 2.24996C17.9421 2.20058 17.8433 2.15557 17.7427 2.11492C17.4067 1.97988 17.1652 1.65269 17.1125 1.26335L17.0753 0.989571C17.061 0.881067 16.9765 0.800781 16.8771 0.800781H15.9948C15.8954 0.800781 15.811 0.881067 15.796 0.989571L15.7594 1.26335C15.7067 1.65269 15.4652 1.97988 15.1293 2.11492C15.0287 2.15557 14.9299 2.20058 14.8335 2.24996C14.5079 2.41658 14.1262 2.37526 13.8378 2.13978L13.636 1.97517C13.5558 1.90967 13.4445 1.91874 13.3744 1.99634L12.7506 2.6833C12.6805 2.76057 12.6719 2.88351 12.7311 2.97119L12.8811 3.19391C13.0948 3.51136 13.132 3.93194 12.9808 4.29037C12.936 4.39652 12.8951 4.50536 12.8582 4.61621C12.7357 4.98607 12.4387 5.25212 12.0851 5.3099L11.8363 5.35088C11.7381 5.36667 11.6652 5.45972 11.6652 5.56957V6.54106C11.6652 6.65057 11.7381 6.74363 11.8363 6.75975L12.0851 6.8004C12.4387 6.85851 12.7357 7.12456 12.8582 7.49442C12.8951 7.60527 12.936 7.71378 12.9808 7.82026C13.132 8.17836 13.0948 8.59927 12.8811 8.91672L12.7311 9.13944C12.6719 9.22745 12.6805 9.34973 12.7506 9.42733L13.3744 10.1143C13.4445 10.1919 13.5558 10.2006 13.636 10.1355L13.8378 9.97052C14.1262 9.73503 14.5079 9.69439 14.8335 9.86067C14.9299 9.91005 15.0287 9.95507 15.1293 9.99571C15.4652 10.1308 15.7067 10.4576 15.7594 10.8473L15.796 11.1214C15.811 11.2299 15.8954 11.3098 15.9948 11.3098H16.8771C16.9765 11.3098 17.061 11.2299 17.0753 11.1214L17.1125 10.8473C17.1652 10.4576 17.4067 10.1308 17.7427 9.99571C17.8433 9.95507 17.9421 9.91005 18.0384 9.86067C18.3637 9.69439 18.7454 9.73503 19.0338 9.97052L19.236 10.1355C19.3159 10.2006 19.4271 10.1919 19.4976 10.1143L20.1213 9.42733C20.1915 9.34973 20.1997 9.22745 20.1405 9.13944L19.9909 8.91672C19.7771 8.59927 19.7399 8.17836 19.8909 7.82026C19.936 7.71378 19.9768 7.60527 20.0134 7.49442C20.1363 7.12456 20.4332 6.85851 20.7869 6.8004L21.0357 6.75975C21.1338 6.74363 21.2067 6.65057 21.2067 6.54106V5.56957C21.2067 5.45972 21.1338 5.36667 21.0357 5.35088Z"
                                              fill="#0E6651"
                                            />
                                          </g>
                                        </g>
                                      </g>
                                    </svg>
                                    <span
                                      >Review and edit parameters.</span
                                    ></span
                                  >
                                </div>
                                <div class="col-6 half-col half-col-left">
                                  <div
                                    class="index-strategy-table-heading blueClr"
                                  >
                                    <div class="index-strategy-head-radio">
                                      <input
                                        type="checkbox"
                                        class="switch_1 table-box1"
                                        data-attr="1"
                                        checked
                                      />
                                    </div>
                                    Index Allocation
                                    <span class="icon-span extras"
                                      ><sup>
                                        <svg
                                          class="table-common-tooltip-svg2"
                                          width="11"
                                          height="11"
                                          viewBox="0 0 11 11"
                                          fill="none"
                                          xmlns="http://www.w3.org/2000/svg"
                                        >
                                          <g id="Group 1951">
                                            <circle
                                              id="Ellipse 190"
                                              cx="5.5"
                                              cy="5.5"
                                              r="5.5"
                                              fill="#D0D0D0"
                                            />
                                            <ellipse
                                              id="Ellipse 191"
                                              cx="5.50045"
                                              cy="2.96151"
                                              rx="0.846154"
                                              ry="0.846154"
                                              fill="#1660A4"
                                            />
                                            <rect
                                              id="Rectangle 753"
                                              x="4.86523"
                                              y="4.65381"
                                              width="1.26923"
                                              height="4.23077"
                                              rx="0.634615"
                                              fill="#1660A4"
                                            />
                                          </g>
                                        </svg> </sup
                                      ><span v-if="inputs.strategies">
                                        Index Allocation: <br>
                                        <label v-for="(item, index) in inputs.strategies" :key="index" class="d-block">{{ item.index }}: {{(item.allocation*100)}}%</label>
                                      </span>
                                    </span>
                                  </div>
                                  <div class="table-responsive w-100 mt-2">
                                    <table class="index-strategy-table">
                                      <thead>
                                        <tr>
                                          <th>Year</th>
                                          <th>Rate of Return</th>
                                          <th>Net Balance</th>
                                        </tr>
                                      </thead>
                                      <tbody v-if="index_results">
                                        <tr
                                          v-for="(item, index) in index_results"
                                          :key="index"
                                        >
                                          <td>{{ item.year }}</td>
                                          <td
                                            :class="
                                              item.ror < 0 ? 'highlighted' : ''
                                            "
                                          >
                                            {{ item.ror.toFixed(2) }}%
                                          </td>
                                          <td>
                                            ${{ $numFormat(item.net_balance) }}
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                                <div class="col-6 half-col half-col-right">
                                  <div
                                    class="index-strategy-table-heading greenClr"
                                  >
                                    <div class="index-strategy-head-radio">
                                      <input
                                        type="checkbox"
                                        class="switch_1 table-box2"
                                        data-attr="2"
                                        checked
                                      />
                                    </div>
                                    Index Strategy Allocation
                                    <span class="icon-span"
                                      ><sup>
                                        <svg
                                          class="table-common-tooltip-svg2"
                                          width="11"
                                          height="11"
                                          viewBox="0 0 11 11"
                                          fill="none"
                                          xmlns="http://www.w3.org/2000/svg"
                                        >
                                          <g id="Group 1951">
                                            <circle
                                              id="Ellipse 190"
                                              cx="5.5"
                                              cy="5.5"
                                              r="5.5"
                                              fill="#D0D0D0"
                                            />
                                            <ellipse
                                              id="Ellipse 191"
                                              cx="5.50045"
                                              cy="2.96151"
                                              rx="0.846154"
                                              ry="0.846154"
                                              fill="#1660A4"
                                            />
                                            <rect
                                              id="Rectangle 753"
                                              x="4.86523"
                                              y="4.65381"
                                              width="1.26923"
                                              height="4.23077"
                                              rx="0.634615"
                                              fill="#1660A4"
                                            />
                                          </g>
                                        </svg> </sup
                                      ><span
                                        >The strategy or blend of strategies
                                        chosen.</span
                                      >
                                    </span>
                                  </div>
                                  <div class="table-responsive w-100 mt-2">
                                    <table class="index-strategy-table">
                                      <thead>
                                        <tr>
                                          <th>Year</th>
                                          <th>Rate of Return</th>
                                          <th>Net Balance</th>
                                        </tr>
                                      </thead>
                                      <tbody v-if="strategy_results">
                                        <tr
                                          v-for="(
                                            item, index
                                          ) in strategy_results"
                                          :key="index"
                                        >
                                          <td>{{ item.year }}</td>
                                          <td
                                            v-if="item.ror || item.ror == 0"
                                            :class="
                                              item.ror < 0 ? 'highlighted' : ''
                                            "
                                          >
                                            {{ item.ror.toFixed(2) }}%
                                          </td>
                                          <td v-else>&mdash;</td>
                                          <td>
                                            ${{ $numFormat(item.net_balance) }}
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div
                            class="tab-pane show fade"
                            id="v-pills-rate-of-return"
                            role="tabpanel"
                            aria-labelledby="pills-home-tab"
                          >
                            <div class="graph-tab-head">
                              <label
                                class="cursor-pointer"
                                data-bs-toggle="modal"
                                data-bs-target="#saveRunModal"
                              >
                                <svg
                                  width="32"
                                  height="33"
                                  viewBox="0 0 32 30"
                                  fill="none"
                                  xmlns="http://www.w3.org/2000/svg"
                                >
                                  <g
                                    id="Clip path group"
                                    filter="url(#filter0_d_332_2464)"
                                  >
                                    <mask
                                      id="mask0_332_2464"
                                      style="mask-type: luminance"
                                      maskUnits="userSpaceOnUse"
                                      x="4"
                                      y="2"
                                      width="24"
                                      height="25"
                                    >
                                      <g id="461b897740">
                                        <path
                                          id="Vector"
                                          d="M4 2H28V26.2959H4V2Z"
                                          fill="white"
                                        />
                                      </g>
                                    </mask>
                                    <g mask="url(#mask0_332_2464)">
                                      <g id="Group">
                                        <path
                                          id="Vector_2"
                                          class="setting-icon-all more"
                                          d="M10.6024 14.2504C9.65457 14.2504 8.88658 13.4454 8.88658 12.4526C8.88658 11.4598 9.65457 10.6551 10.6024 10.6551C11.55 10.6551 12.3183 11.4598 12.3183 12.4526C12.3183 13.4454 11.55 14.2504 10.6024 14.2504ZM16.9677 11.5253L16.6235 11.4719C16.1338 11.3955 15.7232 11.0453 15.5534 10.5583C15.5024 10.4123 15.446 10.2694 15.3838 10.1292C15.1747 9.6575 15.2262 9.10404 15.522 8.68575L15.7293 8.39273C15.8113 8.27705 15.8 8.11568 15.7024 8.01374L14.8393 7.10942C14.7418 7.00748 14.5881 6.99534 14.4774 7.0813L14.1979 7.29859C13.7988 7.60823 13.2704 7.66224 12.8198 7.44303C12.6866 7.37784 12.55 7.31872 12.4107 7.26536C11.946 7.08769 11.6113 6.65726 11.5387 6.14438L11.4875 5.78361C11.4674 5.64109 11.3503 5.53532 11.2128 5.53532H9.99177C9.85427 5.53532 9.7375 5.64109 9.71707 5.78361L9.66585 6.14438C9.59329 6.65726 9.25884 7.08769 8.7939 7.26536C8.65457 7.31872 8.51829 7.37784 8.38476 7.44303C7.93445 7.66224 7.4061 7.60823 7.00701 7.29859L6.72713 7.0813C6.61677 6.99534 6.4628 7.00748 6.36555 7.10942L5.50213 8.01374C5.40488 8.11568 5.39329 8.27705 5.4753 8.39273L5.68262 8.68575C5.97835 9.10404 6.02988 9.6575 5.82073 10.1292C5.75884 10.2694 5.70213 10.4123 5.65122 10.5583C5.4814 11.0453 5.07073 11.3955 4.5811 11.4719L4.23689 11.5253C4.10091 11.5467 4 11.6687 4 11.8132V13.0923C4 13.2364 4.10091 13.3592 4.23689 13.3802L4.5811 13.4339C5.07073 13.51 5.4814 13.8602 5.65122 14.3472C5.70213 14.4932 5.75884 14.6364 5.82073 14.776C6.02988 15.248 5.97835 15.8018 5.68262 16.2198L5.4753 16.5125C5.39329 16.6285 5.40488 16.7898 5.50213 16.8918L6.36555 17.7964C6.4628 17.898 6.61677 17.9102 6.72713 17.8245L7.00701 17.6069C7.4061 17.2973 7.93445 17.2433 8.38476 17.4625C8.51829 17.5274 8.65457 17.5865 8.7939 17.6398C9.25884 17.8178 9.59329 18.2483 9.66585 18.7611L9.71707 19.1219C9.7375 19.2644 9.85427 19.3702 9.99177 19.3702H11.2128C11.3503 19.3702 11.4674 19.2644 11.4875 19.1219L11.5387 18.7611C11.6113 18.2483 11.946 17.8178 12.4107 17.6398C12.55 17.5865 12.6866 17.5274 12.8198 17.4625C13.2704 17.2433 13.7988 17.2973 14.1979 17.6069L14.4774 17.8245C14.5881 17.9102 14.7418 17.898 14.8393 17.7964L15.7024 16.8918C15.8 16.7898 15.8113 16.6285 15.7293 16.5125L15.522 16.2198C15.2262 15.8018 15.1747 15.248 15.3838 14.776C15.446 14.6364 15.5024 14.4932 15.5534 14.3472C15.7232 13.8602 16.1338 13.51 16.6235 13.4339L16.9677 13.3802C17.1037 13.3592 17.2046 13.2364 17.2046 13.0923V11.8132C17.2046 11.6687 17.1037 11.5467 16.9677 11.5253ZM21.3979 21.1677C20.4503 21.1677 19.682 20.363 19.682 19.3702C19.682 18.3774 20.4503 17.5724 21.3979 17.5724C22.3454 17.5724 23.1137 18.3774 23.1137 19.3702C23.1137 20.363 22.3454 21.1677 21.3979 21.1677ZM27.7634 18.4425L27.4192 18.3889C26.9296 18.3128 26.5189 17.9626 26.3488 17.4756C26.2982 17.3295 26.2415 17.1864 26.1793 17.0467C25.9701 16.5748 26.0219 16.021 26.3177 15.6033L26.5247 15.31C26.6067 15.1943 26.5954 15.033 26.4982 14.931L25.6348 14.0264C25.5375 13.9244 25.3835 13.9126 25.2729 13.9983L24.9933 14.2155C24.5942 14.5255 24.0659 14.5798 23.6155 14.3603C23.482 14.2954 23.3454 14.2363 23.2064 14.183C22.7415 14.005 22.407 13.5745 22.3341 13.0617L22.2832 12.7009C22.2631 12.5584 22.146 12.4526 22.0082 12.4526H20.7875C20.6497 12.4526 20.5329 12.5584 20.5128 12.7009L20.4616 13.0617C20.3887 13.5745 20.0543 14.005 19.5896 14.183C19.4503 14.2363 19.3137 14.2954 19.1802 14.3603C18.7299 14.5798 18.2015 14.5255 17.8027 14.2155L17.5229 13.9983C17.4122 13.9126 17.2582 13.9244 17.161 14.0264L16.2979 14.931C16.2003 15.033 16.189 15.1943 16.271 15.31L16.4784 15.6033C16.7738 16.021 16.8253 16.5748 16.6162 17.0467C16.5543 17.1864 16.4976 17.3295 16.4466 17.4756C16.2771 17.9626 15.8662 18.3128 15.3768 18.3889L15.0323 18.4425C14.8963 18.4636 14.7957 18.5863 14.7957 18.7305V20.0096C14.7957 20.1537 14.8963 20.2764 15.0323 20.2975L15.3768 20.3509C15.8662 20.4273 16.2771 20.7775 16.4466 21.2645C16.4976 21.4105 16.5543 21.5537 16.6162 21.6933C16.8253 22.1653 16.7738 22.7187 16.4784 23.1367L16.271 23.4301C16.189 23.5457 16.2003 23.7071 16.2979 23.809L17.161 24.7137C17.2582 24.8153 17.4122 24.8274 17.5229 24.7415L17.8027 24.5242C18.2015 24.2142 18.7299 24.1605 19.1802 24.3798C19.3137 24.4446 19.4503 24.5041 19.5896 24.5574C20.0546 24.7351 20.3887 25.1655 20.4616 25.6784L20.5128 26.0392C20.5329 26.1817 20.6497 26.2875 20.7875 26.2875H22.0082C22.146 26.2875 22.2631 26.1817 22.2832 26.0392L22.3341 25.6784C22.407 25.1655 22.7415 24.7351 23.2064 24.5574C23.3454 24.5041 23.482 24.4446 23.6155 24.3798C24.0659 24.1605 24.5942 24.2142 24.9933 24.5242L25.2729 24.7415C25.3835 24.8274 25.5375 24.8153 25.6348 24.7137L26.4982 23.809C26.5954 23.7071 26.6067 23.5457 26.5247 23.4301L26.3177 23.1367C26.0219 22.7187 25.9701 22.1653 26.1793 21.6933C26.2415 21.5537 26.2982 21.4105 26.3488 21.2645C26.5189 20.7775 26.9296 20.4273 27.4192 20.3509L27.7634 20.2975C27.8994 20.2764 28.0003 20.1537 28.0003 20.0096V18.7305C28.0003 18.5863 27.8994 18.4636 27.7634 18.4425ZM20.436 8.36493C19.721 8.36493 19.1415 7.75746 19.1415 7.00876C19.1415 6.25974 19.721 5.65259 20.436 5.65259C21.1509 5.65259 21.7302 6.25974 21.7302 7.00876C21.7302 7.75746 21.1509 8.36493 20.436 8.36493ZM25.0357 6.33867L24.7869 6.29968C24.4332 6.24472 24.1363 5.99164 24.0134 5.63981C23.9768 5.53436 23.936 5.43083 23.8909 5.32985C23.7399 4.98889 23.7771 4.58882 23.9909 4.28684L24.1405 4.07498C24.1997 3.99158 24.1915 3.87462 24.1213 3.80113L23.4976 3.14765C23.4271 3.07383 23.3159 3.06521 23.236 3.12752L23.0338 3.2841C22.7454 3.5081 22.3637 3.54741 22.0384 3.38891C21.9421 3.34194 21.8433 3.29912 21.7427 3.26045C21.4067 3.13199 21.1652 2.82075 21.1125 2.45039L21.0753 2.18996C21.061 2.08675 20.9765 2.01038 20.8771 2.01038H19.9948C19.8954 2.01038 19.811 2.08675 19.796 2.18996L19.7594 2.45039C19.7067 2.82075 19.4652 3.13199 19.1293 3.26045C19.0287 3.29912 18.9299 3.34194 18.8335 3.38891C18.5079 3.54741 18.1262 3.5081 17.8378 3.2841L17.636 3.12752C17.5558 3.06521 17.4445 3.07383 17.3744 3.14765L16.7506 3.80113C16.6805 3.87462 16.6719 3.99158 16.7311 4.07498L16.8811 4.28684C17.0948 4.58882 17.132 4.98889 16.9808 5.32985C16.936 5.43083 16.8951 5.53436 16.8582 5.63981C16.7357 5.99164 16.4387 6.24472 16.0851 6.29968L15.8363 6.33867C15.7381 6.35368 15.6652 6.4422 15.6652 6.54669V7.47083C15.6652 7.575 15.7381 7.66352 15.8363 7.67885L16.0851 7.71752C16.4387 7.7728 16.7357 8.02588 16.8582 8.37771C16.8951 8.48316 16.936 8.58637 16.9808 8.68767C17.132 9.02831 17.0948 9.4287 16.8811 9.73068L16.7311 9.94254C16.6719 10.0263 16.6805 10.1426 16.7506 10.2164L17.3744 10.8699C17.4445 10.9437 17.5558 10.952 17.636 10.89L17.8378 10.7331C18.1262 10.5091 18.5079 10.4704 18.8335 10.6286C18.9299 10.6756 19.0287 10.7184 19.1293 10.7571C19.4652 10.8855 19.7067 11.1964 19.7594 11.5671L19.796 11.8279C19.811 11.9311 19.8954 12.0071 19.9948 12.0071H20.8771C20.9765 12.0071 21.061 11.9311 21.0753 11.8279L21.1125 11.5671C21.1652 11.1964 21.4067 10.8855 21.7427 10.7571C21.8433 10.7184 21.9421 10.6756 22.0384 10.6286C22.3637 10.4704 22.7454 10.5091 23.0338 10.7331L23.236 10.89C23.3159 10.952 23.4271 10.9437 23.4976 10.8699L24.1213 10.2164C24.1915 10.1426 24.1997 10.0263 24.1405 9.94254L23.9909 9.73068C23.7771 9.4287 23.7399 9.02831 23.8909 8.68767C23.936 8.58637 23.9768 8.48316 24.0134 8.37771C24.1363 8.02588 24.4332 7.7728 24.7869 7.71752L25.0357 7.67885C25.1338 7.66352 25.2067 7.575 25.2067 7.47083V6.54669C25.2067 6.4422 25.1338 6.35368 25.0357 6.33867Z"
                                          fill="#dfdfdf"
                                        />
                                      </g>
                                    </g>
                                  </g>
                                  <defs>
                                    <filter
                                      id="filter0_d_332_2464"
                                      x="0"
                                      y="0.010376"
                                      width="32"
                                      height="32.2771"
                                      filterUnits="userSpaceOnUse"
                                      color-interpolation-filters="sRGB"
                                    >
                                      <feFlood
                                        flood-opacity="0"
                                        result="BackgroundImageFix"
                                      />
                                      <feColorMatrix
                                        in="SourceAlpha"
                                        type="matrix"
                                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                                        result="hardAlpha"
                                      />
                                      <feOffset dy="2" />
                                      <feGaussianBlur stdDeviation="2" />
                                      <feComposite
                                        in2="hardAlpha"
                                        operator="out"
                                      />
                                      <feColorMatrix
                                        type="matrix"
                                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                                      />
                                      <feBlend
                                        mode="normal"
                                        in2="BackgroundImageFix"
                                        result="effect1_dropShadow_332_2464"
                                      />
                                      <feBlend
                                        mode="normal"
                                        in="SourceGraphic"
                                        in2="effect1_dropShadow_332_2464"
                                        result="shape"
                                      />
                                    </filter>
                                  </defs>
                                </svg>
                              </label>
                            </div>
                            <!-- Graph canvas start -->
                            <isc-graph-component
                              :reGenerateGraph="reGenerateGraph"
                              @setReGenerateGraph="(e) => (reGenerateGraph = e)"
                            />
                            <!-- Graph canvas end -->
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </section>

                <section class="strategy-calc-main-section mb-3">
                  <div class="row table-data-row">
                    <div class="col-md-6 half-col-left">
                      <div class="table-graph-bottom-each-main-div">
                        <div class="table-graph-bottom-head blueClr">
                          Summary
                        </div>
                        <!-- index summary data -->
                        <index-summary-data-component
                          v-if="index_summary"
                          :summary="index_summary"
                          :beginningBalance="inputs.beginning_balance"
                        />
                      </div>
                    </div>
                    <div class="col-md-6 mt-md-0 mt-sm-3 half-col-right">
                      <div class="table-graph-bottom-each-main-div">
                        <div class="table-graph-bottom-head greenClr">
                          Summary
                        </div>
                        <!-- strategy summary data -->
                        <strategy-summary-data-component
                          v-if="strategy_summary"
                          :summary="strategy_summary"
                          :beginningBalance="inputs.beginning_balance"
                        />
                      </div>
                    </div>
                  </div>
                </section>

                <section class="strategy-calc-main-section mt-0 mb-0">
                  <div
                    class="row graph-data-row mt-20 mb-3 d-none"
                    id="detailsTable"
                  >
                    <div class="col-md-6 half-col-left">
                      <div class="table-graph-bottom-each-main-div">
                        <div class="table-graph-bottom-head blueClr">
                          <div class="index-strategy-head-radio">
                            <input
                              type="checkbox"
                              class="switch_1 bottom-box1"
                              btm-data-attr="1"
                              checked
                            />
                          </div>
                          Index Allocation
                        </div>
                        <!-- index summary data -->
                        <index-summary-data-component
                          v-if="index_summary"
                          :summary="index_summary"
                          :beginningBalance="inputs.beginning_balance"
                        />
                      </div>
                    </div>
                    <div class="col-md-6 mt-md-0 mt-sm-3 half-col-right">
                      <div class="table-graph-bottom-each-main-div">
                        <div class="table-graph-bottom-head greenClr">
                          <div class="index-strategy-head-radio">
                            <input
                              type="checkbox"
                              class="switch_1 bottom-box2"
                              btm-data-attr="2"
                              checked
                            />
                          </div>
                          Index Strategy
                        </div>
                        <!-- strategy summary data -->
                        <strategy-summary-data-component
                          v-if="strategy_summary"
                          :summary="strategy_summary"
                          :beginningBalance="inputs.beginning_balance"
                        />
                      </div>
                    </div>
                  </div>
                </section>
              </div>
            </div>
          </main>
        </div>
      </section>
    </div>

    <!-- Reset Modal Start -->
    <isc-form-edit-modal @setIscData="setIscData" />
    <!-- Reset  Modal End -->
    <button class="bottom-to-top-btn" id="bottomToTopBtn">
      <svg
        width="16"
        height="11"
        viewBox="0 0 16 11"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <rect
          x="8.07812"
          y="0.750488"
          width="10.5"
          height="3"
          rx="1.5"
          transform="rotate(45 8.07812 0.750488)"
          fill="#147D64"
        />
        <rect
          x="9.73633"
          y="2.87134"
          width="10.5"
          height="3"
          rx="1.5"
          transform="rotate(135 9.73633 2.87134)"
          fill="#147D64"
        />
      </svg>
    </button>
  </div>
</template>

<script>
import NavbarComponent from "./../components/common/NavbarComponent.vue";
import LeftSidebarComponent from "./../components/common/LeftSidebarComponent.vue";
import IscFormEditModal from "./../components/isc/IscFormEditModal.vue";
import IscGraphComponent from "./../components/isc/IscGraphComponent.vue";
import StrategySummaryDataComponent from "../components/isc/StrategySummaryDataComponent.vue";
import IndexSummaryDataComponent from "../components/isc/IndexSummaryDataComponent.vue";

export default {
  components: {
    NavbarComponent,
    LeftSidebarComponent,
    IscFormEditModal,
    IscGraphComponent,
    StrategySummaryDataComponent,
    IndexSummaryDataComponent,
  },
  data() {
    return {
      index_results: null,
      index_summary: null,
      strategy_results: null,
      strategy_summary: null,
      inputs: [],
      indexType: "Combined Indexes",
      reGenerateGraph: false,
    };
  },
  mounted() {
    this.setIscData();
  },
  methods: {
    setIscData: function () {
      let data = JSON.parse(localStorage.getItem("isc_calculate"));
      if (data) {
        this.index_results = data.index_results;
        this.strategy_results = data.strategy_results;
        this.index_summary = data.index_summary;
        this.strategy_summary = data.strategy_summary;
        this.inputs = JSON.parse(localStorage.getItem("isc_calculate_inputs"));
        if (this.inputs.strategies.length < 2) {
          this.indexType = this.inputs.strategies[0].index;
        }else{
          this.indexType = "Combined Indexes";
        }
        this.reGenerateGraph = true;
      } else {
        this.$router.push(`/index-strategy-calculator`);
      }
      window.scrollTo(0, 0);
    },
  },
};
</script>
