<template lang="">
  <div>
    <button @click="testFunction()">Test</button>
  </div>
</template>
<script>
export default {
  data() {
    return {
      obj: {
        data: [
          [
            "66",
            "1",
            "$44,800",
            "$0",
            "$2,898",
            "$9,662",
            "$0",
            "$38,037",
            "$23,262",
            "$445,122",
          ],
          [
            "67",
            "2",
            "$44,800",
            "$0",
            "$5,782",
            "$10,226",
            "$0",
            "$78,392",
            "$64,252",
            "$485,477",
          ],
          [
            "68",
            "3",
            "$44,800",
            "$0",
            "$8,841",
            "$10,824",
            "$0",
            "$121,208",
            "$107,696",
            "$528,293",
          ],
          [
            "69",
            "4",
            "$44,800",
            "$0",
            "$12,088",
            "$11,401",
            "$0",
            "$166,695",
            "$153,800",
            "$573,780",
          ],
          [
            "70",
            "5",
            "$44,800",
            "$0",
            "$15,544",
            "$11,901",
            "$0",
            "$215,137",
            "$202,851",
            "$622,222",
          ],
          [
            "71",
            "6",
            "$0",
            "$0",
            "$16,210",
            "$5,575",
            "$0",
            "$225,772",
            "$214,080",
            "$407,085",
          ],
          [
            "72",
            "7",
            "$0",
            "$0",
            "$17,023",
            "$5,557",
            "$0",
            "$237,238",
            "$226,127",
            "$407,085",
          ],
          [
            "73",
            "8",
            "$0",
            "$0",
            "$17,981",
            "$3,555",
            "$0",
            "$251,664",
            "$242,404",
            "$279,347",
          ],
          [
            "74",
            "9",
            "$0",
            "$0",
            "$19,085",
            "$3,522",
            "$0",
            "$267,227",
            "$259,821",
            "$291,278",
          ],
          [
            "75",
            "10",
            "$0",
            "$0",
            "$20,277",
            "$3,470",
            "$0",
            "$284,033",
            "$278,478",
            "$303,916",
          ],
          [
            "76",
            "11",
            "$0",
            "$0",
            "$21,564",
            "$3,396",
            "$0",
            "$302,202",
            "$298,500",
            "$317,312",
          ],
          [
            "77",
            "12",
            "$0",
            "$0",
            "$22,951",
            "$3,430",
            "$0",
            "$321,722",
            "$319,871",
            "$337,808",
          ],
          [
            "78",
            "13",
            "$0",
            "$0",
            "$24,441",
            "$3,468",
            "$0",
            "$342,694",
            "$342,694",
            "$359,829",
          ],
          [
            "79",
            "14",
            "$0",
            "$0",
            "$26,042",
            "$3,513",
            "$0",
            "$365,223",
            "$365,223",
            "$383,484",
          ],
          [
            "80",
            "15",
            "$0",
            "$0",
            "$27,761",
            "$3,560",
            "$0",
            "$389,425",
            "$389,425",
            "$408,896",
          ],
          [
            "81",
            "16",
            "$0",
            "$42,972",
            "$29,440",
            "$632",
            "$1,164",
            "$418,233",
            "$374,097",
            "$395,008",
          ],
          [
            "82",
            "17",
            "$0",
            "$42,972",
            "$31,075",
            "$768",
            "$3,371",
            "$448,540",
            "$358,061",
            "$380,488",
          ],
          [
            "83",
            "18",
            "$0",
            "$42,972",
            "$32,796",
            "$933",
            "$5,688",
            "$480,402",
            "$341,264",
            "$365,284",
          ],
          [
            "84",
            "19",
            "$0",
            "$42,972",
            "$34,604",
            "$1,135",
            "$8,121",
            "$513,871",
            "$323,640",
            "$349,333",
          ],
          [
            "85",
            "20",
            "$0",
            "$42,972",
            "$36,501",
            "$1,403",
            "$10,675",
            "$548,968",
            "$305,090",
            "$332,539",
          ],
        ],
        headers: [
          "age",
          "year",
          "account_value",
          "death_benefit",
          "total_loan_charge",
          "surrender_value",
          "none",
          "premium_outlay",
          "none",
          "none",
        ],
      },
    };
  },
  methods: {
    testFunction: function(obj = {}) {
      let headers = obj.headers;
      let data = obj.data;
      let noneHeaders = [];
      let filterHeaders = [];

      headers.forEach((element, i) => {
        if (element === "none") {
          noneHeaders.push(i);
        } else {
          filterHeaders.push(element);
        }
      });

      return data.map(items =>
        items.filter((i, k) => !noneHeaders.includes(k))
      );
    },
  },
};
</script>
<style lang="">
</style>